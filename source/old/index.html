<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>iaroki blog</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">iaroki blog </a></h1>
                <nav><ul>
                    <li><a href="/pages/links.html">Links</a></li>
                    <li><a href="/pages/tasks.html">Tasks</a></li>
                    <li><a href="/category/docker.html">Docker</a></li>
                    <li><a href="/category/git.html">Git</a></li>
                    <li><a href="/category/linux.html">Linux</a></li>
                    <li><a href="/category/markdown.html">Markdown</a></li>
                    <li><a href="/category/other.html">Other</a></li>
                    <li><a href="/category/python.html">Python</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="/docker-local-registry.html">Docker local registry</a></h1>
<footer class="post-info">
        <abbr class="published" title="2018-09-07T16:57:00+03:00">
                Published: Fri 07 September 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/docker.html">Docker</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/docker.html">docker</a> <a href="/tag/containers.html">containers</a> </p>
</footer><!-- /.post-info --><h1>Run a local registry</h1>
<p>Use a command like the following to start the registry container:</p>
<div class="highlight"><pre><span></span>$ docker run -d -p <span class="m">5000</span>:5000 --restart<span class="o">=</span>always --name registry registry:2
</pre></div>


<p>The registry is now ready to use.</p>
<h1>Copy an image from Docker Hub to your registry</h1>
<p>You can pull an image from Docker Hub and push it to your registry. The following example pulls the ubuntu:16.04 image from Docker Hub and re-tags it as my-ubuntu, then pushes it to the local registry. Finally, the ubuntu:16.04 and my-ubuntu images are deleted locally and the my-ubuntu image is pulled from the local registry.</p>
<ol>
<li>Pull the ubuntu:16.04 image from Docker Hub.</li>
</ol>
<div class="highlight"><pre><span></span>$ docker pull ubuntu:16.04
</pre></div>


<ol>
<li>Tag the image as localhost:5000/my-ubuntu. This creates an additional tag for the existing image. When the first part of the tag is a hostname and port, Docker interprets this as the location of a registry, when pushing.</li>
</ol>
<div class="highlight"><pre><span></span>$ docker tag ubuntu:16.04 localhost:5000/my-ubuntu
</pre></div>


<ol>
<li>Push the image to the local registry running at localhost:5000:</li>
</ol>
<div class="highlight"><pre><span></span>$ docker push localhost:5000/my-ubuntu
</pre></div>


<ol>
<li>Remove the locally-cached ubuntu:16.04 and localhost:5000/my-ubuntu images, so that you can test pulling the image from your registry. This does not remove the localhost:5000/my-ubuntu image from your registry.</li>
</ol>
<div class="highlight"><pre><span></span>$ docker image remove ubuntu:16.04
$ docker image remove localhost:5000/my-ubuntu
</pre></div>


<ol>
<li>Pull the localhost:5000/my-ubuntu image from your local registry.</li>
</ol>
<div class="highlight"><pre><span></span>$ docker pull localhost:5000/my-ubuntu
</pre></div>


<h1>Stop a local registry</h1>
<p>To stop the registry, use the same docker container stop command as with any other container.</p>
<div class="highlight"><pre><span></span>$ docker container stop registry
</pre></div>


<p>To remove the container, use docker container rm.</p>
<div class="highlight"><pre><span></span>$ docker container stop registry <span class="o">&amp;&amp;</span> docker container rm -v registry
</pre></div>


<h1>Basic configuration</h1>
<p>To configure the container, you can pass additional or modified options to the docker run command.</p>
<p>The following sections provide basic guidelines for configuring your registry. For more details, see the registry configuration reference.</p>
<h2>Start the registry automatically</h2>
<p>If you want to use the registry as part of your permanent infrastructure, you should set it to restart automatically when Docker restarts or if it exits. This example uses the --restart always flag to set a restart policy for the registry.</p>
<div class="highlight"><pre><span></span>$ docker run -d <span class="se">\</span>
  -p <span class="m">5000</span>:5000 <span class="se">\</span>
  --restart<span class="o">=</span>always <span class="se">\</span>
  --name registry <span class="se">\</span>
  registry:2
</pre></div>


<h2>Customize the published port</h2>
<p>If you are already using port 5000, or you want to run multiple local registries to separate areas of concern, you can customize the registry’s port settings. This example runs the registry on port 5001 and also names it registry-test. Remember, the first part of the -p value is the host port and the second part is the port within the container. Within the container, the registry listens on port 5000 by default.</p>
<div class="highlight"><pre><span></span>$ docker run -d <span class="se">\</span>
  -p <span class="m">5001</span>:5000 <span class="se">\</span>
  --name registry-test <span class="se">\</span>
  registry:2
</pre></div>


<p>If you want to change the port the registry listens on within the container, you can use the environment variable REGISTRY_HTTP_ADDR to change it. This command causes the registry to listen on port 5001 within the container:</p>
<div class="highlight"><pre><span></span>$ docker run -d <span class="se">\</span>
  -e <span class="nv">REGISTRY_HTTP_ADDR</span><span class="o">=</span><span class="m">0</span>.0.0.0:5001 <span class="se">\</span>
  -p <span class="m">5001</span>:5001 <span class="se">\</span>
  --name registry-test <span class="se">\</span>
  registry:2
</pre></div>


<h1>Storage customization</h1>
<h2>Customize the storage location</h2>
<p>By default, your registry data is persisted as a docker volume on the host filesystem. If you want to store your registry contents at a specific location on your host filesystem, such as if you have an SSD or SAN mounted into a particular directory, you might decide to use a bind mount instead. A bind mount is more dependent on the filesystem layout of the Docker host, but more performant in many situations. The following example bind-mounts the host directory /mnt/registry into the registry container at /var/lib/registry/.</p>
<div class="highlight"><pre><span></span>$ docker run -d <span class="se">\</span>
  -p <span class="m">5000</span>:5000 <span class="se">\</span>
  --restart<span class="o">=</span>always <span class="se">\</span>
  --name registry <span class="se">\</span>
  -v /mnt/registry:/var/lib/registry <span class="se">\</span>
  registry:2
</pre></div>


<hr>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="/centos-7-kickstart-installation.html" rel="bookmark"
                           title="Permalink to CentOS 7 kickstart installation">CentOS 7 kickstart installation</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-07-06T14:34:00+03:00">
                Published: Fri 06 July 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/centos.html">centos</a> <a href="/tag/redhat.html">redhat</a> <a href="/tag/rhel.html">rhel</a> <a href="/tag/kickstart.html">kickstart</a> </p>
</footer><!-- /.post-info -->                <p>I have generated kickstart file located on my pc and to make it available over local network I just start python server:</p>
<div class="highlight"><pre><span></span>[iaroki@workstation ~]$ python -m http.server
Serving HTTP on 0.0.0.0 port 8000 (http://0.0.0.0:8000/) ...
</pre></div>


<p>Now my kickstart config located at <code>http …</code></p>
                <a class="readmore" href="/centos-7-kickstart-installation.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/cedarview-on-ubuntu-1204.html" rel="bookmark"
                           title="Permalink to Cedarview on Ubuntu 12.04">Cedarview on Ubuntu 12.04</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-02-22T14:34:00+02:00">
                Published: Thu 22 February 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/ubuntu.html">ubuntu</a> <a href="/tag/cedarview.html">cedarview</a> </p>
</footer><!-- /.post-info -->                <p>First install Ubuntu 12.04 desktop and then fully upgrade system:</p>
<div class="highlight"><pre><span></span>$ sudo apt-get update
$ sudo apt-get upgrade
</pre></div>


<p>Install <code>generic</code> kernels:</p>
<div class="highlight"><pre><span></span>$ sudo apt-get install linux-image-generic linux-headers-generic
</pre></div>


<p>Remove <code>-pae</code> kernels:</p>
<div class="highlight"><pre><span></span>$ sudo apt-get purge linux-image-generic-pae linux-headers-generic-pae
</pre></div>


<p>Optional grub update:</p>
<div class="highlight"><pre><span></span>$ sudo update-grub2
</pre></div>


<p>Optional install gdm</p>
<div class="highlight"><pre><span></span>$ sudo apt-get install gdm
</pre></div>


<p>Reboot and install <strong>cedarview</strong> video …</p>
                <a class="readmore" href="/cedarview-on-ubuntu-1204.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/enable-graphical-login-in-centos-7.html" rel="bookmark"
                           title="Permalink to Enable graphical login in Centos 7">Enable graphical login in Centos 7</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-01-22T12:16:00+02:00">
                Published: Mon 22 January 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/centos-systemd.html">centos systemd</a> </p>
</footer><!-- /.post-info -->                <p>To start graphic login you need to enable two <code>systemd</code> services:</p>
<div class="highlight"><pre><span></span>$ sudo systemctl <span class="nb">enable</span> gdm.service
$ sudo systemctl set-default graphical.target
</pre></div>


<p>Then reboot and you will see GDM login manager.
If you want disable it, then run:</p>
<div class="highlight"><pre><span></span>$ sudo systemctl disable gdm.service
$ sudo systemctl set-default multi-user.target
</pre></div>


<p>Now reboot.</p>
                <a class="readmore" href="/enable-graphical-login-in-centos-7.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/tmux-detach-with-systemd.html" rel="bookmark"
                           title="Permalink to Tmux detach with systemd">Tmux detach with systemd</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-01-19T12:16:00+02:00">
                Published: Fri 19 January 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/tmux.html">tmux</a> <a href="/tag/systemd.html">systemd</a> </p>
</footer><!-- /.post-info -->                <p>With <code>systemd</code> version 230+ detachind and logout from remote machine will kill tmux session.</p>
<h3>Systemd config</h3>
<p>First solution is to disable killing user processes systemwide.
Edit <code>/etc/systemd/logind.conf</code> and set</p>
<div class="highlight"><pre><span></span><span class="na">KillUserProcesses</span><span class="o">=</span><span class="s">no</span>
</pre></div>


<p>Then restart <code>systemd-logind.service</code>:</p>
<div class="highlight"><pre><span></span># systemctl restart systemd-logind
</pre></div>


<h3>Tmux as a service</h3>
<p>Second solution is running tmux …</p>
                <a class="readmore" href="/tmux-detach-with-systemd.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/dockerfile-description.html" rel="bookmark"
                           title="Permalink to Dockerfile description">Dockerfile description</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-11-04T13:17:00+02:00">
                Published: Sat 04 November 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/docker.html">Docker</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/docker.html">docker</a> <a href="/tag/containers.html">containers</a> <a href="/tag/dockerfile.html">dockerfile</a> </p>
</footer><!-- /.post-info -->                <h3>Creating image from file</h3>
<p>Go to the directory with Dockerfile and run:</p>
<div class="highlight"><pre><span></span>docker build -t imagename .
</pre></div>


<h3>Dockerfile instructions</h3>
<p><strong>FROM</strong></p>
<p><code>FROM</code> - This instruction is used to set the base image for subsequent instructions. It is mandatory to set this in the first line of a Dockerfile. You can use it any …</p>
                <a class="readmore" href="/dockerfile-description.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/git-log.html" rel="bookmark"
                           title="Permalink to Git log">Git log</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-10-31T14:02:00+02:00">
                Published: Tue 31 October 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/git.html">Git</a>.</p>
<p>tags: <a href="/tag/git.html">git</a> </p>
</footer><!-- /.post-info -->                <p><code>git log</code> show you history, but it looks not so pretty:</p>
<div class="highlight"><pre><span></span>commit 244bf1ff360f6e4db6ce01829670306d9e0fa004 (HEAD -&gt; master)
Author: hostmorke &lt;hostmorke@hostmorke.io&gt;
Date:   Mon Oct 30 17:13:33 2017 +0200

    Vagrant post

commit 383de7b4e31c53e8ea008c9bd87e6bfa5f012677 (origin/master)
Author: hostmorke &lt;hostmorke@hostmorke.io&gt;
Date:   Mon Oct 30 16:12:08 2017 +0200

    new …</pre></div>
                <a class="readmore" href="/git-log.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/vagrant-tips.html" rel="bookmark"
                           title="Permalink to Vagrant tips">Vagrant tips</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-10-30T14:02:00+02:00">
                Published: Mon 30 October 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/vagrant.html">vagrant</a> </p>
</footer><!-- /.post-info -->                <p>Some useful tips to work with <a href="https://vagrantup.com">Vagrant</a>:</p>
<ul>
<li>Memory and CPU control:</li>
</ul>
<p>Add <code>vb.memory</code> option to <code>Vagrantfile</code> to set desired memory capacity:</p>
<div class="highlight"><pre><span></span><span class="k">[...]</span>
 <span class="na">config.vm.provider &quot;virtualbox&quot; do |vb| </span>
   <span class="na">vb.memory</span> <span class="o">=</span> <span class="s">&quot;1024&quot; </span>
<span class="s"> end</span>
<span class="k">[...]</span>
</pre></div>


<p>Add <code>vb.cpus</code> option to set CPU's:</p>
<div class="highlight"><pre><span></span><span class="k">[...]</span>
 <span class="na">config.vm.provider &quot;virtualbox&quot; do |vb| </span>
  <span class="na">vb.memory</span> <span class="o">=</span> <span class="s">&quot;1024</span>
<span class="s">  vb.cpus …</span></pre></div>
                <a class="readmore" href="/vagrant-tips.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/installation-asterisk-13-on-ubuntu-1604.html" rel="bookmark"
                           title="Permalink to Installation Asterisk 13 on Ubuntu 16.04">Installation Asterisk 13 on Ubuntu 16.04</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-10-25T17:38:00+03:00">
                Published: Wed 25 October 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/asterisk.html">asterisk</a> </p>
</footer><!-- /.post-info -->                <p>1) First thing to do is update our system:</p>
<div class="highlight"><pre><span></span>root@asterisk:~# apt update
root@asterisk:~# apt upgrade
root@asterisk:~# reboot
</pre></div>


<p>2) Download sources:</p>
<div class="highlight"><pre><span></span>root@asterisk:~# cd /usr/src
root@asterisk:/usr/src# wget https://downloads.asterisk.org/pub/telephony/asterisk/asterisk-14-current.tar.gz
root@asterisk:/usr/src# wget https://downloads …</pre></div>
                <a class="readmore" href="/installation-asterisk-13-on-ubuntu-1604.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/creating-systemd-unit-file.html" rel="bookmark"
                           title="Permalink to Creating systemd Unit file">Creating systemd Unit file</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-09-19T12:23:00+03:00">
                Published: Tue 19 September 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/systemd.html">systemd</a> </p>
</footer><!-- /.post-info -->                <p>Create a unit file in the <code>/etc/systemd/system/</code> directory and make sure it has correct file permissions. Execute as <code>root</code>:</p>
<div class="highlight"><pre><span></span># touch /etc/systemd/system/name.service
# chmod 664 /etc/systemd/system/name.service
</pre></div>


<p>Replace <code>name</code> with a name of the service to be created. Note that file does not …</p>
                <a class="readmore" href="/creating-systemd-unit-file.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/tor-hidden-service.html" rel="bookmark"
                           title="Permalink to Tor hidden service">Tor hidden service</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-09-16T14:43:00+03:00">
                Published: Sat 16 September 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/fedora.html">fedora</a> <a href="/tag/ssh.html">ssh</a> <a href="/tag/tor.html">tor</a> <a href="/tag/nginx.html">nginx</a> </p>
</footer><!-- /.post-info -->                <p>As for Fedora install <code>tor</code> package, <code>nginx</code> web service and SSH server for remote control:</p>
<div class="highlight"><pre><span></span>[root@hiddensrv ~]# dnf install tor nginx openssh-server
</pre></div>


<p>Now change defaultSSH port and disable root login:</p>
<div class="highlight"><pre><span></span>[root@hiddensrv ~]# vim /etc/ssh/sshd_config

# If you want to change the port on a SELinux system, you have to …</pre></div>
                <a class="readmore" href="/tor-hidden-service.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/running-gui-applications-in-lxd-on-fedora-26.html" rel="bookmark"
                           title="Permalink to Running GUI applications in LXD on Fedora 26">Running GUI applications in LXD on Fedora 26</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-09-14T18:13:00+03:00">
                Published: Thu 14 September 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/fedora.html">fedora</a> <a href="/tag/lxc.html">lxc</a> <a href="/tag/lxd.html">lxd</a> <a href="/tag/containers.html">containers</a> </p>
</footer><!-- /.post-info -->                <p>Create container:</p>
<div class="highlight"><pre><span></span>[iaroki@fedora ~]$ lxc launch images:debian/stretch chrome
</pre></div>


<p>Install needed tools:</p>
<div class="highlight"><pre><span></span>[iaroki@fedora ~]$ lxc exec chrome bash
root@chrome:~# adduser iaroki
root@chrome:~# apt update
root@chrome:~# apt install x11-apps mesa-utils alsa-utils
</pre></div>


<p>Map UID and GID ramges:</p>
<div class="highlight"><pre><span></span>[iaroki@fedora ~]$ echo &quot;root:1000:1&quot; | sudo tee -a /etc/subuid …</pre></div>
                <a class="readmore" href="/running-gui-applications-in-lxd-on-fedora-26.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/lxd-installation-on-fedora-26.html" rel="bookmark"
                           title="Permalink to LXD installation on Fedora 26">LXD installation on Fedora 26</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-09-14T12:23:00+03:00">
                Published: Thu 14 September 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/fedora.html">fedora</a> <a href="/tag/lxc.html">lxc</a> <a href="/tag/lxd.html">lxd</a> <a href="/tag/containers.html">containers</a> </p>
</footer><!-- /.post-info -->                <p>LXD is not working with enabled SELinux so we need to disable it with comand:</p>
<div class="highlight"><pre><span></span>[root@fedora ~]# setenforce permissive
</pre></div>


<p>Enable <code>ganto</code> repository to download neded packages:</p>
<div class="highlight"><pre><span></span>[root@fedora ~]# dnf copr enable ganto/lxd
</pre></div>


<p>Now time to install LXD:</p>
<div class="highlight"><pre><span></span>[root@fedora ~]# dnf install lxd lxd-client lxd-tools
</pre></div>


<p>In order to run lxc …</p>
                <a class="readmore" href="/lxd-installation-on-fedora-26.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/tmux-cheatsheet.html" rel="bookmark"
                           title="Permalink to Tmux cheatsheet">Tmux cheatsheet</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-08-06T15:54:00+03:00">
                Published: Sun 06 August 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/tmux.html">tmux</a> </p>
</footer><!-- /.post-info -->                <p>Meta key for tmux is <code>Ctl+b</code>!</p>
<h3>Panes</h3>
<p>To split pane horisontal press <code>Ctrl+b</code> and <code>"</code>.
To split pane vertical press <code>Ctrl+b</code> and <code>%</code>.
Navigate through panes with <code>Ctrl+b</code> and <code>direction</code>; Where <code>direction</code> is one of the arrow keys.
Cycle through the panes with <code>Ctrl+b</code> and <code>o</code>.
Hitting …</p>
                <a class="readmore" href="/tmux-cheatsheet.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/simple-way-to-quickly-setup-http-server.html" rel="bookmark"
                           title="Permalink to Simple way to quickly setup HTTP server">Simple way to quickly setup HTTP server</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-08-06T12:06:00+03:00">
                Published: Sun 06 August 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/python.html">Python</a>.</p>
<p>tags: <a href="/tag/python.html">python</a> </p>
</footer><!-- /.post-info -->                <h2>Python 2</h2>
<div class="highlight"><pre><span></span>python2 -m SimpleHTTPServer
</pre></div>


<h2>Python 3</h2>
<div class="highlight"><pre><span></span>python3 -m http.server
</pre></div>
                <a class="readmore" href="/simple-way-to-quickly-setup-http-server.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/container-volumes.html" rel="bookmark"
                           title="Permalink to Container Volumes">Container Volumes</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-06-18T20:04:00+03:00">
                Published: Sun 18 June 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/docker.html">Docker</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/docker.html">docker</a> <a href="/tag/containers.html">containers</a> </p>
</footer><!-- /.post-info -->                <p>To create Storage Container we can use:</p>
<div class="highlight"><pre><span></span>docker create -v /data --name dataContainer busybox
</pre></div>


<p>Let's add some files to it:</p>
<div class="highlight"><pre><span></span>docker cp someFile.big dataContainer:/data/
</pre></div>


<p>Now mount storage container to other running container using option <code>--volumes-from &lt;container&gt;</code>:</p>
<div class="highlight"><pre><span></span>docker run --volumes-from dataContainer alpine ls /data
</pre></div>


<p>The output will be <code>someFile …</code></p>
                <a class="readmore" href="/container-volumes.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/convert-m4a-to-ogg-with-ffmpeg.html" rel="bookmark"
                           title="Permalink to Convert m4a to ogg with ffmpeg">Convert m4a to ogg with ffmpeg</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-05-12T12:23:00+03:00">
                Published: Fri 12 May 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/ffmpeg.html">ffmpeg</a> <a href="/tag/m4a.html">m4a</a> <a href="/tag/ogg.html">ogg</a> <a href="/tag/vorbis.html">vorbis</a> </p>
</footer><!-- /.post-info -->                <p>Recently i downloaded some lectures from youtube in <code>m4a</code> format.
My hardware portable player doesn't support it so I converted files like this:</p>
<div class="highlight"><pre><span></span>ffmpeg -i file.m4a -acodec libvorbis -aq 4 -vn -ac 2 -map_metadata 0 file.ogg
</pre></div>


<p>Complete script is:</p>
<div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1"># Author: Simon Legner &lt;Simon.Legner@gmail.com …</span></pre></div>
                <a class="readmore" href="/convert-m4a-to-ogg-with-ffmpeg.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/docker-usage.html" rel="bookmark"
                           title="Permalink to Docker usage">Docker usage</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-04-15T12:37:00+03:00">
                Published: Sat 15 April 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/docker.html">Docker</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/docker.html">docker</a> <a href="/tag/containers.html">containers</a> </p>
</footer><!-- /.post-info -->                <p>Running container from image:
<code>docker run &lt;image-name&gt;</code></p>
<p>Enable interactive shell by adding next keys:
<code>-i</code> - intercative
<code>-t</code> - use tty</p>
<p><code>docker run -it python</code></p>
<p>To remove container after it dies add:
<code>--rm</code> - remove after exit</p>
<p><code>docker run -it --rm python</code></p>
<p>To name container for later use add:
<code>--name &lt;name&gt;</code> - name container …</p>
                <a class="readmore" href="/docker-usage.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/linux-io-redirection.html" rel="bookmark"
                           title="Permalink to Linux I/O redirection">Linux I/O redirection</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-03-22T11:23:00+02:00">
                Published: Wed 22 March 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/io.html">io</a> <a href="/tag/redirection.html">redirection</a> <a href="/tag/bash.html">bash</a> </p>
</footer><!-- /.post-info -->                <table>
<thead>
<tr>
<th>Name</th>
<th>Number</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>stdin</td>
<td>0</td>
<td>Connected to the keyboard, most programs read input from this file</td>
</tr>
<tr>
<td>stdout</td>
<td>1</td>
<td>Attached to the screen, and all programs send their results to this file</td>
</tr>
<tr>
<td>stderr</td>
<td>2</td>
<td>Programs send status/error messages to this file which is also attached to the screen</td>
</tr>
</tbody>
</table>
<p>Redirect standard …</p>
                <a class="readmore" href="/linux-io-redirection.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/passwordless-ssh-key-based-authentication.html" rel="bookmark"
                           title="Permalink to Passwordless SSH key-based authentication">Passwordless SSH key-based authentication</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-03-20T13:43:00+02:00">
                Published: Mon 20 March 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/ssh.html">ssh</a> </p>
</footer><!-- /.post-info -->                <p>To generate public/private pair of keys enter:</p>
<div class="highlight"><pre><span></span>ssh-keygen -b <span class="m">4096</span> -t rsa -C <span class="s2">&quot;username@email&quot;</span>
</pre></div>


<p>Next step is to copy key to the remote server:</p>
<div class="highlight"><pre><span></span>ssh-copy-id -i .ssh/id_rsa.pub user01@server2.example.com
</pre></div>


<p>On remote server is adviceable to edit <code>/etc/ssh/sshd_config</code>:</p>
<div class="highlight"><pre><span></span><span class="na">PasswordAuthentication no</span>
<span class="na">PubkeyAuthentication yes</span>
<span class="na">PermitRootLogin …</span></pre></div>
                <a class="readmore" href="/passwordless-ssh-key-based-authentication.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/arch-linux-crypto-installation.html" rel="bookmark"
                           title="Permalink to Arch Linux crypto installation">Arch Linux crypto installation</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-03-16T12:23:00+02:00">
                Published: Thu 16 March 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/archlinux.html">archlinux</a> <a href="/tag/lvm.html">lvm</a> <a href="/tag/luks.html">luks</a> </p>
</footer><!-- /.post-info -->                <p>After live cd is loaded you need to setup network connection.
For ethernet follow the next steps:</p>
<div class="highlight"><pre><span></span>ip link <span class="nb">set</span> eth0 up <span class="c1">#set interface up</span>
ip addr add <span class="m">10</span>.69.0.100/24 broadcast <span class="m">10</span>.69.0.255 dev eth0 <span class="c1">#set ip address</span>
ip route add default via <span class="m">10</span>.69 …</pre></div>
                <a class="readmore" href="/arch-linux-crypto-installation.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/markdown-lists-cheatsheet.html" rel="bookmark"
                           title="Permalink to Markdown lists cheatsheet">Markdown lists cheatsheet</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-01-29T12:09:00+02:00">
                Published: Sun 29 January 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/markdown.html">Markdown</a>.</p>
<p>tags: <a href="/tag/markdown.html">markdown</a> </p>
</footer><!-- /.post-info -->                <p>To create unordered lists add asterisk:</p>
<div class="highlight"><pre><span></span>* First item
* Second item
* Third item
</pre></div>


<p>Ordered lists can be created by addint number before item:</p>
<div class="highlight"><pre><span></span>1. First item
2. Second item
3. Third item
</pre></div>
                <a class="readmore" href="/markdown-lists-cheatsheet.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/git-cheatsheet.html" rel="bookmark"
                           title="Permalink to Git cheatsheet">Git cheatsheet</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-01-27T13:33:00+02:00">
                Published: Fri 27 January 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/git.html">Git</a>.</p>
<p>tags: <a href="/tag/git.html">git</a> </p>
</footer><!-- /.post-info -->                <h3>Installation</h3>
<p>todo</p>
<div class="highlight"><pre><span></span>apt install git
yum install git
dnf install git
pacman -S git
</pre></div>


<h3>Init git repository</h3>
<p>To initialize your git repository just go to project directory and run:</p>
<div class="highlight"><pre><span></span>git init
</pre></div>


<p>Example output:</p>
<div class="highlight"><pre><span></span><span class="o">[</span>hostmorke@workstation tmp<span class="o">]</span>$ <span class="nb">cd</span> testsuite/
<span class="o">[</span>hostmorke@workstation testsuite<span class="o">]</span>$ git init 
Initialized empty Git repository in /home/hostmorke …</pre></div>
                <a class="readmore" href="/git-cheatsheet.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/markdown-links-cheatsheet.html" rel="bookmark"
                           title="Permalink to Markdown links cheatsheet">Markdown links cheatsheet</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-01-27T13:22:00+02:00">
                Published: Fri 27 January 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/markdown.html">Markdown</a>.</p>
<p>tags: <a href="/tag/markdown.html">markdown</a> </p>
</footer><!-- /.post-info -->                <p>To create link put text in square brackets and address in parentheses:</p>
<div class="highlight"><pre><span></span>[Some google link here](https://google.com)
</pre></div>


<p><a href="https://google.com">Some google link here</a></p>
                <a class="readmore" href="/markdown-links-cheatsheet.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/nginx-load-balancing.html" rel="bookmark"
                           title="Permalink to Nginx load balancing">Nginx load balancing</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-01-11T14:28:00+02:00">
                Published: Wed 11 January 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/nginx.html">nginx</a> </p>
</footer><!-- /.post-info -->                <p>Load balancing is a very useful technique to distribute the incoming network traffic across a number servers. With this technique you can reduce the resource usage, lower the response time and avoid server overload.</p>
<p>Nginx Load Balancing is one of the most efficient options available to achieve full application redundancy …</p>
                <a class="readmore" href="/nginx-load-balancing.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/installing-jenkins-on-centos-7.html" rel="bookmark"
                           title="Permalink to Installing Jenkins on Centos 7">Installing Jenkins on Centos 7</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-01-11T13:58:00+02:00">
                Published: Wed 11 January 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/jenkins.html">jenkins</a> <a href="/tag/centos.html">centos</a> <a href="/tag/nginx.html">nginx</a> </p>
</footer><!-- /.post-info -->                <p>In this article we will install and configure Jenkins with Nginx as a reverse proxy on a CentOS 7.</p>
<p>Jenkins is a leading open source automation server built with Java that monitors executions of repeated jobs, such as building a software project or jobs run by cron. With Jenkins, organizations …</p>
                <a class="readmore" href="/installing-jenkins-on-centos-7.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/dns-explained.html" rel="bookmark"
                           title="Permalink to DNS explained">DNS explained</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-01-11T13:40:00+02:00">
                Published: Wed 11 January 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/network.html">network</a> <a href="/tag/dns.html">dns</a> </p>
</footer><!-- /.post-info -->                <h2>What is DNS?</h2>
<p>DNS is an acronym of Domain Name System and it’s widely used in different mediums. As the name suggests, DNS is a naming system that gives a name to any computer or service connected to a network. DNS is utterly important and everyone should use it …</p>
                <a class="readmore" href="/dns-explained.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/firewalld-in-centos-7.html" rel="bookmark"
                           title="Permalink to FirewallD in Centos 7">FirewallD in Centos 7</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-01-11T13:40:00+02:00">
                Published: Wed 11 January 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/network.html">network</a> <a href="/tag/firewalld.html">firewalld</a> <a href="/tag/centos.html">centos</a> </p>
</footer><!-- /.post-info -->                <p>FirewallD is a firewall management tool available by default on CentOS 7 servers. Basically, it is a wrapper around iptables and it comes with graphical configuration tool firewall-config and command line tool firewall-cmd. With the iptables service, every change requires flushing of the old rules and reading the new rules …</p>
                <a class="readmore" href="/firewalld-in-centos-7.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/iptables-setup.html" rel="bookmark"
                           title="Permalink to Iptables setup">Iptables setup</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-01-11T13:02:00+02:00">
                Published: Wed 11 January 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/network.html">network</a> <a href="/tag/iptables.html">iptables</a> </p>
</footer><!-- /.post-info -->                <p>With iptables, several different packet matching tables are defined and each table can contain a number of built-in chains as well as some chains defined by the user. The chains are actually lists of rules that match set of packets and each rule specifies what to do with the matched …</p>
                <a class="readmore" href="/iptables-setup.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/gpg-quick-start.html" rel="bookmark"
                           title="Permalink to GPG Quick Start">GPG Quick Start</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-10-25T00:00:00+03:00">
                Published: Tue 25 October 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/encryption.html">encryption</a> <a href="/tag/gpg.html">gpg</a> <a href="/tag/linux.html">linux</a> <a href="/tag/security.html">security</a> </p>
</footer><!-- /.post-info -->                <p>A quick HOWTO for getting started with GnuPG.</p>
<h2>Your Key</h2>
<p>Private and public keys are at the heart of gpg’s encryption and decryption processes. The best first step is to create a key pair for yourself.</p>
<p>Generate a private key.</p>
<div class="highlight"><pre><span></span>gpg --gen-key
</pre></div>


<p>You’ll have to answer a bunch …</p>
                <a class="readmore" href="/gpg-quick-start.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/backup-lxc-containers.html" rel="bookmark"
                           title="Permalink to Backup LXC containers">Backup LXC containers</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-10-20T13:44:00+03:00">
                Published: Thu 20 October 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/lxc.html">lxc</a> <a href="/tag/containers.html">containers</a> <a href="/tag/backup.html">backup</a> </p>
</footer><!-- /.post-info -->                <h2>Moving LXC containers between host systems</h2>
<p>This is how migrate LXC containers between systems:
* Shutdown the container</p>
<div class="highlight"><pre><span></span># lxc-stop -n $NAME
</pre></div>


<ul>
<li>Archive container rootfs &amp; config</li>
</ul>
<div class="highlight"><pre><span></span># cd /var/lib/lxc/$NAME/
# tar --numeric-owner -czvf container_fs.tar.gz ./*
</pre></div>


<p>The <code>--numeric-owner</code> flag is very important! Without it, the container may not boot because the …</p>
                <a class="readmore" href="/backup-lxc-containers.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/lxc-share-folder.html" rel="bookmark"
                           title="Permalink to LXC share folder">LXC share folder</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-10-19T00:00:00+03:00">
                Published: Wed 19 October 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/containers.html">containers</a> <a href="/tag/linux.html">linux</a> <a href="/tag/lxc.html">lxc</a> </p>
</footer><!-- /.post-info -->                <h2>Exposing a directory on the host machine to an LXC container:</h2>
<ol>
<li>Log into the container and create an empty directory, this will be the mount point</li>
<li>Log out and stop the container.</li>
<li>Open to your container’s config file<ul>
<li>For regular LXC containers: <code>/var/lib/lxc/mycontainer/config</code></li>
<li>For <em>unprivileged …</em></li></ul></li></ol>
                <a class="readmore" href="/lxc-share-folder.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/network-manager-restart-after-suspendhibernate.html" rel="bookmark"
                           title="Permalink to Network Manager restart after suspend/hibernate">Network Manager restart after suspend/hibernate</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-09-10T12:22:00+03:00">
                Published: Sat 10 September 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/systemd.html">systemd</a> </p>
</footer><!-- /.post-info -->                <p>Open a terminal and type the following:</p>
<div class="highlight"><pre><span></span>sudo nano /etc/systemd/system/wifi-resume.service 
</pre></div>


<p>Now paste the script in there. Exit with CTRL + X and press Y to save. </p>
<p>Now to activate it: </p>
<div class="highlight"><pre><span></span>sudo systemctl enable wifi-resume.service
</pre></div>


<p>Script:</p>
<div class="highlight"><pre><span></span>#/etc/systemd/system/wifi-resume.service
#sudo systemctl enable wifi-resume.service
[Unit …</pre></div>
                <a class="readmore" href="/network-manager-restart-after-suspendhibernate.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/bridge-interface-for-lxc-containers.html" rel="bookmark"
                           title="Permalink to Bridge interface for lxc-containers">Bridge interface for lxc-containers</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-09-12T00:00:00+03:00">
                Published: Sat 12 September 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/containers.html">containers</a> <a href="/tag/linux.html">linux</a> <a href="/tag/lxc.html">lxc</a> </p>
</footer><!-- /.post-info -->                <p>Script for creating bridge interface and applying  iptable routing rule:</p>
<div class="highlight"><pre><span></span>CMD_BRCTL=/sbin/brctl
CMD_IFCONFIG=/sbin/ifconfig
CMD_IPTABLES=/sbin/iptables
CMD_ROUTE=/sbin/route
NETWORK_BRIDGE_DEVICE_NAT=lxc-br0
HOST_NETDEVICE=eth0
PRIVATE_GW_NAT=192.168.0.1
PRIVATE_NETMASK=255.255.255.0

<span class="cp">${</span><span class="n">CMD_BRCTL</span><span class="cp">}</span> addbr <span class="cp">${</span><span class="n">NETWORK_BRIDGE_DEVICE_NAT</span><span class="cp">}</span>
<span class="cp">${</span><span class="n">CMD_BRCTL</span><span class="cp">}</span> setfd <span class="cp">${</span><span class="n">NETWORK_BRIDGE_DEVICE_NAT</span><span class="cp">}</span> 0
<span class="cp">${</span><span class="n">CMD_IFCONFIG</span><span class="cp">}</span> <span class="cp">${</span><span class="n">NETWORK_BRIDGE_DEVICE_NAT</span><span class="cp">}</span> <span class="cp">${</span><span class="n">PRIVATE_GW_NAT</span><span class="cp">}</span> netmask <span class="cp">${</span><span class="n">PRIVATE_NETMASK</span><span class="cp">}</span> promisc up …</pre></div>
                <a class="readmore" href="/bridge-interface-for-lxc-containers.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/fancy-way-to-detect-your-external-ip-address.html" rel="bookmark"
                           title="Permalink to Fancy way to detect your external IP address">Fancy way to detect your external IP address</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2015-01-02T00:00:00+02:00">
                Published: Fri 02 January 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/curl.html">curl</a> <a href="/tag/linux.html">linux</a> </p>
</footer><!-- /.post-info -->                <p>If you need to get your IP address for some script, there is solution:</p>
<div class="highlight"><pre><span></span>curl &quot;ifconfig.me&quot;
</pre></div>
                <a class="readmore" href="/fancy-way-to-detect-your-external-ip-address.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/adding-autostart-script-to-debian-wheezy.html" rel="bookmark"
                           title="Permalink to Adding autostart script to Debian Wheezy">Adding autostart script to Debian Wheezy</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-01-22T15:33:00+02:00">
                Published: Wed 22 January 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/debian.html">debian</a> </p>
</footer><!-- /.post-info -->                <p>Create your script:</p>
<div class="highlight"><pre><span></span>mkdir /tmp/spaghetti &amp;&amp; touch /tmp/spaghetti/meatballs.txt
</pre></div>


<p>Make the script executable:</p>
<div class="highlight"><pre><span></span>root@wheezy ~ # chmod +x spaghetti.sh
</pre></div>


<p>Add your script to <code>/etc/init.d</code>:</p>
<div class="highlight"><pre><span></span>root@wheezy ~ # mv spaghetti.sh /etc/init.d
</pre></div>


<p>Run <code>update-rc.d</code> on the new script:</p>
<div class="highlight"><pre><span></span>root@wheezy ~ # update-rc.d spaghetti.sh defaults …</pre></div>
                <a class="readmore" href="/adding-autostart-script-to-debian-wheezy.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/diablo-2-multiple-copies.html" rel="bookmark"
                           title="Permalink to Diablo 2 multiple copies">Diablo 2 multiple copies</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2012-07-29T13:56:00+03:00">
                Published: Sun 29 July 2012
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/other.html">Other</a>.</p>
<p>tags: <a href="/tag/diablo.html">diablo</a> <a href="/tag/games.html">games</a> </p>
</footer><!-- /.post-info -->                <p>This is a way to run 2 copies of D2 without any crashes on the same computer.
You will need:
<em> 2 CD keys for BNet
</em> 1 Hex editor</p>
<p>Instructions:
1. Install D2 with key, patch it fully to 1.11 and enter battle.net.
2. Exit Battle.net again
3 …</p>
                <a class="readmore" href="/diablo-2-multiple-copies.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/linux-backup-on-the-fly.html" rel="bookmark"
                           title="Permalink to Linux backup on the fly">Linux backup on the fly</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2012-05-25T13:38:00+03:00">
                Published: Fri 25 May 2012
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/iaroki.html">iaroki</a>
        </address>
<p>In <a href="/category/linux.html">Linux</a>.</p>
<p>tags: <a href="/tag/linux.html">linux</a> <a href="/tag/backup.html">backup</a> </p>
</footer><!-- /.post-info -->                <p>Backing-up:</p>
<div class="highlight"><pre><span></span>cd /
tar cvpjf backup.tar.bz2 --exclude=/proc 
                         --exclude=/lost+found 
                         --exclude=/backup.tar.bz2 
                         --exclude=/mnt 
                         --exclude=/sys /
</pre></div>


<p>Restoring:</p>
<div class="highlight"><pre><span></span>tar xvpfj backup.tar.bz2 -C /
</pre></div>
                <a class="readmore" href="/linux-backup-on-the-fly.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://github.com/iaroki">Github</a></li>
                            <li><a href="https://facebook.com/johnnymnemonic">Facebook</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-112838187-1', 'auto');
    ga('send', 'pageview');
    </script>
</body>
</html>